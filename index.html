---
layout: default
title: Admin panel
description: Approve hours
featured_image: /images/demo/home.jpg
---

<<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Autonomy Heroes â€“ Submit Hours</title>

    <!-- React and ReactDOM from CDN -->
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>

    <!-- Firebase from CDN -->
    <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore-compat.js"></script>

    <!-- Tailwind CSS -->
    <link href="https://unpkg.com/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Condensed:wght@300;400;700&display=swap" rel="stylesheet">
</head>
<body>
    <div id="root"></div>

    <script type="text/javascript">
        // Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyB1dlHRhLA71PxCgVLjOieUcUF22DWx6zY",
            authDomain: "autonomy-heroes.firebaseapp.com",
            projectId: "autonomy-heroes",
            storageBucket: "autonomy-heroes.appspot.com",
            messagingSenderId: "266526530869",
            appId: "1:266526530869:web:ea95143735be497ca8007c"
        };

        firebase.initializeApp(firebaseConfig);
        const auth = firebase.auth();
        const db = firebase.firestore();

        function LoginPage(onLogin) {
            const container = document.createElement("div");
            container.className = "max-w-md mx-auto mt-20 p-8 bg-white shadow-md rounded";

            const title = document.createElement("h1");
            title.className = "text-2xl font-bold mb-4";
            title.innerText = "Login or Register";
            container.appendChild(title);

            const emailInput = document.createElement("input");
            emailInput.type = "email";
            emailInput.placeholder = "Email";
            emailInput.className = "w-full p-2 mb-4 border rounded";
            container.appendChild(emailInput);

            const passwordInput = document.createElement("input");
            passwordInput.type = "password";
            passwordInput.placeholder = "Password";
            passwordInput.className = "w-full p-2 mb-4 border rounded";
            container.appendChild(passwordInput);

            const loginButton = document.createElement("button");
            loginButton.className = "btn w-full mb-2";
            loginButton.innerText = "Login";
            loginButton.onclick = () => {
                const email = emailInput.value;
                const password = passwordInput.value;
                auth.signInWithEmailAndPassword(email, password)
                    .then(userCredential => onLogin(userCredential.user))
                    .catch(error => alert("Login failed: " + error.message));
            };
            container.appendChild(loginButton);

            const registerButton = document.createElement("button");
            registerButton.className = "btn w-full";
            registerButton.innerText = "Register";
            registerButton.onclick = () => {
                const email = emailInput.value;
                const password = passwordInput.value;
                auth.createUserWithEmailAndPassword(email, password)
                    .then(userCredential => onLogin(userCredential.user))
                    .catch(error => alert("Registration failed: " + error.message));
            };
            container.appendChild(registerButton);

            return container;
        }

        function TimeTrackingCalendar(user) {
            const container = document.createElement("div");
            container.className = "calendar-container max-w-4xl mx-auto p-4";

            const title = document.createElement("h1");
            title.className = "text-2xl font-bold text-center mb-4";
            title.innerText = "Time Tracking Calendar";
            container.appendChild(title);

            const calendarGrid = document.createElement("div");
            calendarGrid.className = "grid grid-cols-7 gap-4";

            const daysInMonth = new Date(new Date().getFullYear(), new Date().getMonth() + 1, 0).getDate();
            const currentDate = new Date();
            const currentDay = currentDate.getDate();

            for (let day = 1; day <= daysInMonth; day++) {
                const dayCell = document.createElement("div");
                dayCell.className = `calendar-day p-4 border rounded hover:bg-orange-100 cursor-pointer ${day === currentDay ? 'bg-orange-200 border-orange-500' : ''}`;
                dayCell.innerText = day;

                dayCell.onclick = () => {
                    const hoursWorked = prompt(`Enter hours worked for ${day}`);
                    if (hoursWorked !== null && !isNaN(hoursWorked)) {
                        db.collection("timeEntries").doc(user.uid).set({
                            [`${currentDate.getFullYear()}-${currentDate.getMonth() + 1}-${day}`]: { hours: hoursWorked }
                        }, { merge: true });
                        alert("Hours submitted successfully!");
                    } else {
                        alert("Invalid input. Please enter a number.");
                    }
                };

                calendarGrid.appendChild(dayCell);
            }

            container.appendChild(calendarGrid);
            return container;
        }

        function App() {
            const root = document.getElementById("root");
            let user = null;

            function handleLogin(loggedInUser) {
                user = loggedInUser;
                render();
            }

            function render() {
                root.innerHTML = "";
                if (user) {
                    root.appendChild(TimeTrackingCalendar(user));
                } else {
                    root.appendChild(LoginPage(handleLogin));
                }
            }

            render();
        }

        App();
    </script>
</body>
</html>
